{"ast":null,"code":"// const axios = require(\"axios\");\nimport axios from \"axios\";\nconst FormData = require(\"form-data\");\nconst {\n  storeDataToFile\n} = require(\"./ipfsHelper.js\");\nconst pinataEndpoint = \"https://api.pinata.cloud/pinning/pinFileToIPFS\";\nconst pinImage = async (selectedFile, pinataApiKey, pinataSecretApiKey) => {\n  const form_data = new FormData();\n  try {\n    form_data.append(\"file\", selectedFile);\n    const request = {\n      // method: \"post\",\n      url: pinataEndpoint,\n      maxContentLength: \"Infinity\",\n      headers: {\n        pinata_api_key: pinataApiKey,\n        pinata_secret_api_key: pinataSecretApiKey,\n        \"Content-Type\": `multipart/form-data; boundary=${form_data._boundary}`\n      },\n      data: form_data\n    };\n    // const response = await axios(request);\n    const response = await axios.post(request);\n    await storeDataToFile(response.data);\n    console.log(\"Successfully pinned image, response added to JSON file\");\n  } catch (err) {\n    console.log(\"Error occurred while pinning NFT to IPFS: \", err);\n  }\n};\nmodule.exports = pinImage;","map":{"version":3,"names":["axios","FormData","require","storeDataToFile","pinataEndpoint","pinImage","selectedFile","pinataApiKey","pinataSecretApiKey","form_data","append","request","url","maxContentLength","headers","pinata_api_key","pinata_secret_api_key","_boundary","data","response","post","console","log","err","module","exports"],"sources":["/home/peilunnn/Downloads/Internship Projects/gcp-dapp-auction/client/src/pinNFT.js"],"sourcesContent":["// const axios = require(\"axios\");\nimport axios from \"axios\";\nconst FormData = require(\"form-data\");\nconst { storeDataToFile } = require(\"./ipfsHelper.js\");\n\nconst pinataEndpoint = \"https://api.pinata.cloud/pinning/pinFileToIPFS\";\n\nconst pinImage = async (selectedFile, pinataApiKey, pinataSecretApiKey) => {\n  const form_data = new FormData();\n  try {\n    form_data.append(\"file\", selectedFile);\n    const request = {\n      // method: \"post\",\n      url: pinataEndpoint,\n      maxContentLength: \"Infinity\",\n      headers: {\n        pinata_api_key: pinataApiKey,\n        pinata_secret_api_key: pinataSecretApiKey,\n        \"Content-Type\": `multipart/form-data; boundary=${form_data._boundary}`,\n      },\n      data: form_data,\n    };\n    // const response = await axios(request);\n    const response = await axios.post(request);\n    await storeDataToFile(response.data);\n    console.log(\"Successfully pinned image, response added to JSON file\");\n  } catch (err) {\n    console.log(\"Error occurred while pinning NFT to IPFS: \", err);\n  }\n};\n\nmodule.exports = pinImage;\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,QAAQ,GAAGC,OAAO,CAAC,WAAW,CAAC;AACrC,MAAM;EAAEC;AAAgB,CAAC,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAEtD,MAAME,cAAc,GAAG,gDAAgD;AAEvE,MAAMC,QAAQ,GAAG,OAAOC,YAAY,EAAEC,YAAY,EAAEC,kBAAkB,KAAK;EACzE,MAAMC,SAAS,GAAG,IAAIR,QAAQ,EAAE;EAChC,IAAI;IACFQ,SAAS,CAACC,MAAM,CAAC,MAAM,EAAEJ,YAAY,CAAC;IACtC,MAAMK,OAAO,GAAG;MACd;MACAC,GAAG,EAAER,cAAc;MACnBS,gBAAgB,EAAE,UAAU;MAC5BC,OAAO,EAAE;QACPC,cAAc,EAAER,YAAY;QAC5BS,qBAAqB,EAAER,kBAAkB;QACzC,cAAc,EAAG,iCAAgCC,SAAS,CAACQ,SAAU;MACvE,CAAC;MACDC,IAAI,EAAET;IACR,CAAC;IACD;IACA,MAAMU,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,IAAI,CAACT,OAAO,CAAC;IAC1C,MAAMR,eAAe,CAACgB,QAAQ,CAACD,IAAI,CAAC;IACpCG,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;EACvE,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZF,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEC,GAAG,CAAC;EAChE;AACF,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGpB,QAAQ"},"metadata":{},"sourceType":"module"}